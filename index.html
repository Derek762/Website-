<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Name & Grug</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #222;
            color: #fff;
            text-align: center;
            padding: 40px;
        }
        canvas {
            background: #000;
            margin-top: 24px;
            border-radius: 12px;
        }
        h1 {
            font-size: 2.5rem;
            margin-bottom: 12px;
        }
    </style>
</head>
<body>
    <h1>Derek Sun</h1>
    <h2>Pac-Man Game</h2>
    <canvas id="pacmanCanvas" width="400" height="400"></canvas>
    <script>
        const canvas = document.getElementById('pacmanCanvas');
        const ctx = canvas.getContext('2d');
        const gridSize = 20;
        const rows = 20;
        const cols = 20;
        let pacman = { x: 1, y: 1, dir: 'right', nextDir: 'right', r: gridSize / 2 };
        let mouthOpen = true;
        let score = 0;
        // Simple maze: 0 = empty, 1 = wall, 2 = dot
        const maze = [
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
            [1,2,2,2,1,2,2,2,2,2,2,2,2,2,1,2,2,2,2,1],
            [1,2,1,2,1,2,1,1,1,1,1,1,1,2,1,2,1,2,2,1],
            [1,2,1,2,2,2,2,2,2,1,2,2,2,2,1,2,1,1,2,1],
            [1,2,1,1,1,1,1,1,2,1,2,1,1,1,1,2,2,1,2,1],
            [1,2,2,2,2,2,2,1,2,2,2,1,2,2,2,2,2,1,2,1],
            [1,2,1,1,1,1,2,1,1,1,1,1,2,1,1,1,2,1,2,1],
            [1,2,2,2,2,1,2,2,2,1,2,2,2,1,2,2,2,1,2,1],
            [1,1,1,1,2,1,1,1,2,1,2,1,1,1,2,1,1,1,2,1],
            [1,2,2,1,2,2,2,1,2,2,2,1,2,2,2,1,2,2,2,1],
            [1,2,1,1,1,1,2,1,1,1,1,1,2,1,1,1,2,1,2,1],
            [1,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,1,2,1],
            [1,2,1,1,1,1,1,1,2,1,2,1,1,1,1,1,2,1,2,1],
            [1,2,2,2,2,2,2,1,2,2,2,1,2,2,2,2,2,1,2,1],
            [1,1,1,1,1,1,2,1,1,1,1,1,2,1,1,1,1,1,2,1],
            [1,2,2,2,2,1,2,2,2,1,2,2,2,1,2,2,2,2,2,1],
            [1,2,1,1,2,1,1,1,2,1,2,1,1,1,2,1,1,1,2,1],
            [1,2,2,1,2,2,2,1,2,2,2,1,2,2,2,1,2,2,2,1],
            [1,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,1],
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
        ];
        document.addEventListener('keydown', e => {
            if (e.key === 'ArrowUp') pacman.nextDir = 'up';
            if (e.key === 'ArrowDown') pacman.nextDir = 'down';
            if (e.key === 'ArrowLeft') pacman.nextDir = 'left';
            if (e.key === 'ArrowRight') pacman.nextDir = 'right';
        });
        function canMove(x, y) {
            return maze[y] && maze[y][x] !== 1;
        }
        function movePacman() {
            let { x, y } = pacman;
            let dir = pacman.nextDir;
            let nx = x, ny = y;
            if (dir === 'up') ny--;
            if (dir === 'down') ny++;
            if (dir === 'left') nx--;
            if (dir === 'right') nx++;
            if (canMove(nx, ny)) {
                pacman.x = nx;
                pacman.y = ny;
                pacman.dir = dir;
            } else {
                // Try current direction
                dir = pacman.dir;
                nx = x; ny = y;
                if (dir === 'up') ny--;
                if (dir === 'down') ny++;
                if (dir === 'left') nx--;
                if (dir === 'right') nx++;
                if (canMove(nx, ny)) {
                    pacman.x = nx;
                    pacman.y = ny;
                }
            }
        }
        function eatDot() {
            if (maze[pacman.y][pacman.x] === 2) {
                maze[pacman.y][pacman.x] = 0;
                score++;
            }
        }
        function drawMaze() {
            for (let y = 0; y < rows; y++) {
                for (let x = 0; x < cols; x++) {
                    if (maze[y][x] === 1) {
                        ctx.fillStyle = '#1976d2';
                        ctx.fillRect(x * gridSize, y * gridSize, gridSize, gridSize);
                    } else if (maze[y][x] === 2) {
                        ctx.fillStyle = '#fff';
                        ctx.beginPath();
                        ctx.arc(x * gridSize + gridSize/2, y * gridSize + gridSize/2, 3, 0, 2 * Math.PI);
                        ctx.fill();
                    }
                }
            }
        }
        function drawPacman() {
            ctx.save();
            ctx.translate(pacman.x * gridSize + gridSize/2, pacman.y * gridSize + gridSize/2);
            let angle = 0.25 * Math.PI;
            let start = 0, end = 2 * Math.PI;
            if (pacman.dir === 'right') { start = angle; end = 2 * Math.PI - angle; }
            if (pacman.dir === 'left') { start = Math.PI + angle; end = Math.PI - angle; }
            if (pacman.dir === 'up') { start = 1.5 * Math.PI + angle; end = 1.5 * Math.PI - angle; }
            if (pacman.dir === 'down') { start = 0.5 * Math.PI + angle; end = 0.5 * Math.PI - angle; }
            ctx.beginPath();
            ctx.moveTo(0, 0);
            ctx.arc(0, 0, pacman.r, mouthOpen ? start : 0, mouthOpen ? end : 2 * Math.PI, false);
            ctx.closePath();
            ctx.fillStyle = 'yellow';
            ctx.fill();
            ctx.restore();
        }
        function drawScore() {
            ctx.fillStyle = '#fff';
            ctx.font = '18px Arial';
            ctx.fillText('Score: ' + score, 10, 390);
        }
        function loop() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            drawMaze();
            movePacman();
            eatDot();
            drawPacman();
            drawScore();
            mouthOpen = !mouthOpen;
            requestAnimationFrame(loop);
        }
        loop();
    </script>
</body>
</html>
